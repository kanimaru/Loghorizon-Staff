// 
// 
// 
#include "Hardware.h"
#include "Sound.h"
#include <avr/pgmspace.h>
#include "PCA9685_LED.h"

#define SONG_LOG_HORIZON_SPEED 0
#define SONG_LOG_HORIZON_LENGTH 350
const PROGMEM uint16_t SONG_LOG_HORIZON_DELAY[] = { 0, 0, 0, 240, 0, 240, 0, 240, 0, 240, 0, 480, 0, 0, 0, 0, 0, 0, 0, 240, 0, 240, 0, 240, 0, 240, 0, 1439, 1, 0, 0, 0, 0, 0, 0, 240, 0, 240, 0, 240, 0, 240, 0, 480, 0, 0, 0, 0, 0, 0, 0, 240, 0, 240, 0, 240, 0, 240, 0, 1440, 0, 0, 0, 0, 0, 0, 0, 240, 0, 240, 0, 240, 0, 240, 0, 480, 0, 0, 0, 0, 0, 0, 0, 240, 0, 240, 0, 240, 0, 240, 0, 1285, 20, 134, 1, 0, 0, 0, 0, 0, 0, 3840, 0, 0, 0, 0, 0, 1440, 0, 0, 2400, 0, 0, 960, 0, 480, 0, 0, 480, 0, 960, 0, 960, 0, 0, 0, 0, 1440, 0, 0, 0, 2400, 0, 0, 0, 1440, 0, 0, 0, 480, 0, 1830, 4, 86, 0, 0, 0, 1, 0, 1439, 0, 0, 0, 2400, 0, 0, 0, 960, 0, 480, 0, 0, 0, 480, 0, 960, 0, 960, 0, 0, 0, 0, 0, 1440, 0, 0, 0, 2400, 0, 0, 0, 0, 135, 135, 3570, 0, 0, 0, 0, 1440, 0, 0, 2400, 0, 0, 960, 0, 480, 0, 0, 480, 0, 960, 0, 960, 0, 0, 0, 0, 1440, 0, 0, 0, 2400, 0, 0, 0, 1440, 0, 0, 0, 480, 270, 1650, 0, 0, 0, 0, 0, 240, 0, 240, 0, 960, 0, 0, 0, 2400, 0, 0, 0, 960, 0, 480, 0, 0, 0, 480, 0, 960, 0, 960, 0, 0, 0, 0, 0, 1440, 0, 0, 0, 2400, 0, 0, 0, 0, 480, 0, 480, 0, 480, 0, 480, 0, 480, 0, 480, 0, 960, 0, 0, 0, 480, 0, 480, 0, 480, 0, 0, 0, 0, 0, 480, 0, 480, 0, 480, 0, 480, 0, 480, 0, 0, 0, 0, 0, 480, 0, 480, 0, 480, 0, 0, 0, 0, 0, 480, 0, 480, 0, 480, 0, 480, 0, 480, 0, 0, 0, 0, 0, 0, 1440, 0, 0, 0, 0, 0, 0, 2400, 0, 0, 0, 0, 135, 135, 3570, 0, 0, 0 };
const PROGMEM uint16_t SONG_LOG_HORIZON_MELODY[] = { 587, 8486, 16733, 25016, 0, 659, 0, 698, 0, 784, 0, 880, 0, 587, 8192, 16384, 24576, 8454, 16733, 25016, 0, 659, 0, 698, 0, 784, 0, 880, 24576, 0, 587, 
	8192, 16384, 8425, 16678, 24925, 0, 659, 0, 698, 0, 784, 0, 880, 0, 587, 8192, 16384, 24576, 8425, 16678, 24925, 0, 659, 0, 698, 0, 784, 0, 880, 0, 587, 
	8192, 16384, 24576, 8412, 16678, 24906, 0, 659, 0, 698, 0, 784, 0, 880, 0, 587, 8192, 16384, 24576, 8412, 16678, 24906, 0, 659, 0, 698, 0, 784, 0, 880, 
	16384, 16824, 16384, 0, 554, 8192, 24576, 8412, 16661, 24906, 0, 294, 8192, 16384, 24576, 8265, 8192, 8367, 16604, 8192, 16384, 8265, 0, 349, 8192, 8367, 
	16604, 0, 330, 0, 294, 0, 440, 8192, 16384, 8302, 8192, 8357, 16604, 24838, 8192, 16384, 24576, 8302, 8192, 8357, 16604, 24838, 0, 523, 0, 294, 0, 8192, 
	16384, 24576, 392, 8290, 8192, 8339, 16580, 24809, 8192, 16384, 24576, 8290, 0, 392, 8192, 8339, 16580, 24809, 0, 349, 0, 330, 0, 392, 8192, 16384, 24576, 
	8302, 8192, 8357, 16604, 24870, 0, 8192, 16384, 24576, 165, 8412, 16661, 24870, 0, 8192, 16384, 73, 0, 175, 8412, 0, 8192, 73, 24576, 8541, 0, 175, 16604,
	8192, 8522, 8192, 8486, 8192, 8632, 0, 16384, 110, 0, 165, 16604, 24838, 0, 16384, 24576, 110, 0, 165, 16604, 24838, 8192, 8715, 8192, 8584, 0, 16384, 24576, 
	98, 8192, 8632, 8192, 8584, 0, 147, 16580, 24809, 0, 16384, 24576, 98, 8192, 8584, 0, 147, 16580, 24809, 8192, 8541, 8192, 8522, 8192, 8584, 0, 16384, 24576, 
	117, 0, 147, 16559, 24809, 8192, 0, 16384, 24576, 65, 0, 98, 0, 165, 0, 196, 0, 262, 0, 196, 0, 330, 8541, 0, 73, 16531, 8192, 8522, 8192, 8486, 8192, 8454, 
	0, 16384, 82, 16549, 8192, 8584, 8192, 8541, 8192, 8522, 8192, 8584, 8192, 8541, 0, 16384, 87, 16559, 8192, 8632, 8192, 8715, 8192, 8686, 0, 16384, 98, 16580, 
	8192, 8632, 8192, 8584, 8192, 8486, 8192, 8584, 8192, 8486, 25016, 0, 16384, 110, 16604, 8192, 24576, 8469, 0, 16384, 165, 16604, 8192, 8779, 0, 16384, 147, 
	17264, 25751, 8192, 16384, 24576, 0
};

#define SONG_TETRIS_SPEED 1
#define SONG_TETRIS_LENGTH 234
/*
const PROGMEM uint16_t SONG_TETRIS_DELAY[] = { 0, 1043, 0, 1, 0, 474, 30, 1, 0, 479, 30, 1, 0, 479, 30, 1, 232, 16, 241, 16, 0, 474, 30, 1, 0, 476, 30, 5, 0, 1049, 0, 1, 0, 474, 30, 1, 0, 479, 30, 1, 0, 1014, 0, 1, 0, 474, 30, 1, 0, 476, 30, 5, 0, 511, 31, 477, 31, 474, 30, 1, 0, 479, 0, 31, 0, 1014, 0, 1, 0, 1011, 0, 5, 0, 1049, 0, 1, 0, 1014, 0, 1, 0, 2026, 0, 547, 0, 1012, 0, 1, 0, 479, 30, 1, 0, 365, 83, 246, 63, 134, 124, 0, 14, 460, 30, 1, 0, 476, 30, 5, 0, 1554, 0, 1, 0, 479, 30, 1, 0, 479, 31, 232, 16, 241, 15, 1, 0, 474, 30, 1, 0, 476, 30, 5, 0, 511, 31, 477, 30, 1, 0, 474, 30, 1, 0, 479, 30, 1, 0, 479, 31, 474, 30, 1, 0, 474, 31, 476, 30, 5, 0, 511, 31, 477, 30, 1, 0, 1014, 0, 1, 0, 1014, 0, 1017, 0, 2064, 0, 1, 0, 2026, 0, 5, 0, 2064, 0, 1, 0, 2026, 0, 5, 0, 1508, 556, 0, 1, 2026, 5, 2049, 15, 1, 0, 2026, 0, 5, 0, 2064, 0, 1, 0, 2026, 0, 5, 0, 2064, 0, 1, 0, 2026, 0, 5, 0, 1049, 0, 1, 0, 1014, 0, 1, 0, 2026, 0, 5, 0, 4091, 0, 0};

const PROGMEM uint16_t SONG_TETRIS_MELODY[] = { 294, 8412, 0, 8192, 220, 8377, 8192, 0, 233, 8388, 8192, 0, 262, 8412, 8192, 0, 294, 0, 262, 0, 233, 8388, 8192, 0, 220, 8377, 8192, 0, 196, 8339, 0, 8192, 196, 8339, 8192, 0, 233, 8388, 8192, 0, 294, 8425, 0, 8192, 262, 8412, 8192, 0, 233, 8388, 8192, 0, 185, 8412, 0, 147, 0, 185, 0, 8192, 196, 8425, 0, 8192, 262, 8412, 0, 8192, 294, 8425, 0, 8192, 233, 8388, 0, 8192, 196, 8339, 0, 8192, 196, 8339, 0, 8192, 262, 8348, 0, 8192, 311, 8388, 8192, 0, 233, 8584, 0, 233, 0, 233, 8192, 8541, 16604, 0, 16384, 8192, 311, 8388, 8192, 0, 294, 8367, 0, 8192, 233, 8339, 8192, 0, 175, 8486, 0, 196, 0, 175, 0, 8192, 262, 8348, 8192, 0, 233, 8339, 8192, 0, 185, 8412, 0, 147, 0, 8192, 220, 8377, 8192, 0, 233, 8388, 8192, 0, 220, 8454, 0, 185, 0, 8192, 233, 8486, 0, 185, 0, 8192, 196, 8425, 0, 147, 0, 8192, 196, 8339, 0, 8192, 196, 8339, 0, 8192, 147, 8309, 0, 8192, 117, 8290, 0, 8192, 131, 8302, 0, 8192, 110, 8285, 0, 8192, 117, 8290, 16457, 0, 8192, 98, 0, 93, 16384, 0, 110, 8285, 0, 8192, 147, 8309, 0, 8192, 117, 8290, 0, 8192, 131, 8302, 0, 8192, 110, 8285, 0, 8192, 117, 8290, 0, 8192, 147, 8309, 0, 8192, 196, 8339, 0, 8192, 185, 8339, 0, 8192 };
*/
const PROGMEM uint16_t SONG_TETRIS_DELAY[] = { 0, 1043, 0, 1, 0, 474, 30, 1, 0, 479, 30, 1, 0, 479, 30, 1, 232, 16, 241, 16, 0, 474, 30, 1, 0, 476, 30, 5, 0, 1049, 0, 1, 0, 474, 30, 1, 0, 479, 30, 1, 0, 1014, 0, 1, 0, 474, 30, 1, 0, 476, 30, 5, 0, 511, 31, 477, 31, 474, 30, 1, 0, 479, 0, 31, 0, 1014, 0, 1, 0, 1011, 0, 5, 0, 1049, 0, 1, 0, 1014, 0, 1, 0, 2026, 0, 547, 0, 1012, 0, 1, 0, 479, 30, 1, 0, 365, 83, 246, 63, 134, 124, 0, 14, 460, 30, 1, 0, 476, 30, 5, 0, 1554, 0, 1, 0, 479, 30, 1, 0, 479, 31, 232, 16, 241, 15, 1, 0, 474, 30, 1, 0, 476, 30, 5, 0, 511, 31, 477, 30, 1, 0, 474, 30, 1, 0, 479, 30, 1, 0, 479, 31, 474, 30, 1, 0, 474, 31, 476, 30, 5, 0, 511, 31, 477, 30, 1, 0, 1014, 0, 1, 0, 1014, 0, 1017, 0, 2064, 0, 1, 0, 2026, 0, 5, 0, 2064, 0, 1, 0, 2026, 0, 5, 0, 1508, 556, 0, 1, 2026, 5, 2049, 15, 1, 0, 2026, 0, 5, 0, 2064, 0, 1, 0, 2026, 0, 5, 0, 2064, 0, 1, 0, 2026, 0, 5, 0, 1049, 0, 1, 0, 1014, 0, 1, 0, 2026, 0, 5, 0, 4091, 0, 0
};

const PROGMEM uint16_t SONG_TETRIS_MELODY[] = {
	294, 8412, 0, 8192, 220, 8377, 8192, 0, 233, 8388, 8192, 0, 262, 8412, 8192, 0, 294, 0, 262, 0, 233, 8388, 8192, 0, 220, 8377, 8192, 0, 196, 8339, 0, 8192, 196, 8339, 8192, 0, 233, 8388, 8192, 0, 294, 8425, 0, 8192, 262, 8412, 8192, 0, 233, 8388, 8192, 0, 185, 8412, 0, 147, 0, 185, 0, 8192, 196, 8425, 0, 8192, 262, 8412, 0, 8192, 294, 8425, 0, 8192, 233, 8388, 0, 8192, 196, 8339, 0, 8192, 196, 8339, 0, 8192, 262, 8348, 0, 8192, 311, 8388, 8192, 0, 233, 8584, 0, 233, 0, 233, 8192, 8541, 16604, 0, 16384, 8192, 311, 8388, 8192, 0, 294, 8367, 0, 8192, 233, 8339, 8192, 0, 175, 8486, 0, 196, 0, 175, 0, 8192, 262, 8348, 8192, 0, 233, 8339, 8192, 0, 185, 8412, 0, 147, 0, 8192, 220, 8377, 8192, 0, 233, 8388, 8192, 0, 220, 8454, 0, 185, 0, 8192, 233, 8486, 0, 185, 0, 8192, 196, 8425, 0, 147, 0, 8192, 247, 8377, 0, 8192, 247, 8377, 0, 8192, 185, 8339, 0, 8192, 147, 8315, 0, 8192, 165, 8331, 0, 8192, 139, 8309, 0, 8192, 147, 8315, 16477, 0, 8192, 123, 0, 117, 16384, 0, 139, 8309, 0, 8192, 185, 8339, 0, 8192, 147, 8315, 0, 8192, 165, 8331, 0, 8192, 139, 8309, 0, 8192, 147, 8315, 0, 8192, 185, 8339, 0, 8192, 247, 8377, 0, 8192, 233, 8377, 0, 8192
};




#define SONG_PKMN_SPEED -1
#define SONG_PKMN_LENGTH 468
const PROGMEM uint16_t SONG_PKMN_DELAY[] = { 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 0, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 75, 0, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 75, 0, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 0, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 75, 0, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 15, 15, 0, 15, 0, 15, 0, 15, 0, 0, 0, 0, 0, 0, 0, 15, 15, 15, 195, 0, 0, 0, 0, 0, 0, 15, 15, 15, 195, 0, 0, 0, 0, 0, 0, 15, 15, 15, 195, 0, 0, 0, 0, 0, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 0, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 75, 0, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 15, 0, 0, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 75, 0, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, 15, 0, 0, 0, 0, 60, 15, 15, 11, 19, 0, 0, 0, 0, 0, 0, 15, 15, 15, 195, 15, 15, 15, 195, 0, 0, 0, 0, 0, 0, 15, 15, 30, 0, 0, 60, 0 };
const PROGMEM uint16_t SONG_PKMN_MELODY[] = { 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 8469, 16661, 24784, 0, 104, 0, 24576, 117, 8192, 8469, 8192, 8469, 24784, 0, 104, 0, 24576, 117, 8192, 8607, 16384, 16799, 24853, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 8192, 8469, 16384, 16661, 8192, 8400, 0, 104, 0, 8192, 117, 16384, 8469, 8192, 8469, 16592, 0, 104, 0, 16384, 117, 8192, 8607, 24576, 16824, 24870, 0, 104, 0, 117, 8192, 8469, 16384, 16661, 24576, 24784, 0, 104, 0, 24576, 117, 8192, 8469, 8192, 8469, 24784, 0, 104, 0, 24576, 117, 8192, 8607, 16384, 16799, 24853, 0, 104, 0, 117, 8192, 8469, 16384, 16661, 8192, 8400, 0, 104, 0, 8192, 117, 16384, 8469, 8192, 8469, 16592, 0, 104, 0, 16384, 117, 8192, 8541, 24576, 16646, 24796, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 8192, 8469, 16384, 16661, 24576, 24784, 0, 104, 0, 24576, 117, 8192, 8469, 8192, 8469, 24784, 0, 104, 0, 24576, 117, 8192, 8607, 16384, 16799, 24853, 0, 104, 0, 117, 8192, 8469, 16384, 16661, 8192, 8400, 0, 104, 0, 8192, 117, 16384, 8469, 8192, 8469, 16592, 0, 104, 0, 16384, 117, 8192, 8632, 24576, 16907, 24946, 0, 104, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 8192, 8607, 16384, 16938, 24576, 24991, 0, 104, 0, 117, 8192, 8469, 16384, 16661, 24576, 24784, 0, 104, 0, 117, 8192, 8632, 16384, 16878, 24576, 24906, 0, 104, 0, 117, 8192, 8469, 16384, 16631, 24576, 24741, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 8192, 8469, 16384, 16661, 24576, 24784, 0, 104, 0, 24576, 117, 8192, 8469, 8192, 8469, 24784, 0, 104, 0, 24576, 117, 8192, 8607, 16384, 16799, 24853, 0, 104, 0, 117, 8192, 8469, 16384, 16661, 8192, 8400, 0, 104, 0, 8192, 117, 16384, 8469, 8192, 8469, 16592, 0, 104, 0, 16384, 117, 8192, 8607, 24576, 16824, 24870, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 0, 117, 8192, 8469, 16384, 16661, 24576, 24784, 0, 104, 0, 24576, 117, 8192, 8469, 8192, 8469, 24784, 0, 104, 0, 24576, 117, 8192, 8632, 16384, 16878, 24906, 0, 104, 0, 117, 8192, 8469, 16384, 16661, 24576, 24784, 0, 104, 0, 24576, 117, 8192, 8469, 8192, 8469, 24784, 0, 104, 0, 24576, 8192, 440, 8192, 8715, 24946, 32885, 32768, 32872, 32768, 32885, 0, 415, 8192, 8746, 24576, 24925, 32768, 32872, 32768, 32885, 32768, 32872, 32768, 32885, 0, 277, 8192, 9301, 24576, 25130, 32768, 32872, 0, 8192, 24576, 32768 };

#define SONG_BOOT_SPEED 0
#define SONG_BOOT_LENGTH 64
const PROGMEM uint16_t SONG_BOOT_DELAY[] = { 2, 15, 2, 7, 7, 1, 15, 1, 5, 9, 2, 12, 3, 0, 14, 0, 12, 3, 2, 13, 2, 5, 8, 2, 15, 0, 5, 10, 2, 13, 1, 1, 2, 13, 1, 1, 2, 11, 2, 0, 1, 1, 11, 2, 2, 1, 8, 2, 2, 3, 1, 11, 0, 3, 2, 5, 7, 2, 1, 13, 2, 1, 0, 12, 2, 0, 2, 10, 1, 2, 0, 2, 13, 0, 1, 1, 5, 10, 0, 1, 0, 15, 1, 0, 1, 2, 10, 2, 1, 2, 10, 1, 1, 0, 0, 3, 11, 2, 0, 1, 0, 5, 6, 3, 0, 2, 12, 0, 2, 1, 13, 0, 15, 0, 2, 12, 3, 9, 5, 0 };
const PROGMEM uint16_t SONG_BOOT_MELODY[] = { 110, 8632, 16850, 8192, 0, 494, 16384, 8715, 0, 110, 16878, 8192, 8658, 0, 16384, 8192, 494, 8302, 16907, 0, 554, 16384, 8192, 8779, 0, 8192, 622, 8302, 17043, 0, 8192, 698, 16384, 8632, 17124, 0, 466, 8192, 8851, 24686, 16384, 16878, 0, 698, 8192, 8715, 16384, 24576, 17124, 0, 554, 8192, 16384, 8976, 16971, 0, 110, 8192, 8814, 16384, 17431, 25235, 0, 8192, 1109, 8814, 16384, 24576, 16494, 25751, 33427, 0, 8192, 24576, 1245, 8890, 32768, 16384, 17124, 0, 8192, 1319, 9589, 16384, 0, 698, 16494, 26056, 8192, 8851, 0, 16384, 1047, 24576, 17952, 25198, 8192, 9180, 0, 587, 16384, 24576, 16494, 25508, 8192, 8746, 0, 24576, 523, 16384, 8192, 0, 494, 8302, 16850, 0, 440, 16384, 8192, 0 };

const PROGMEM uint16_t delaysX[] = {
	0, 0, 0, 1043, 1, 0, 340, 0, 1, 0, 163, 0, 0, 165, 0, 1, 0, 344, 1, 0, 19, 739, 0, 0, 256, 0, 0, 0, 0, 1, 0, 0, 339, 0, 0, 1, 0, 0, 329, 0, 0, 1, 0, 0, 341, 0, 0, 5, 0, 0, 0, 511, 0, 30, 250, 0, 0, 258, 0, 0, 0, 1, 0, 0, 0, 1014, 1, 479, 0, 30, 249, 0, 0, 256, 0, 0, 0, 1, 0, 0, 339, 0, 0, 1, 0, 0, 329, 0, 0, 1, 0, 0, 341, 0, 0, 5, 0, 0, 0, 511, 0, 30, 250, 0, 0, 258, 0, 0, 0, 1, 0, 0, 0, 1014, 1, 479, 0, 30, 249, 0, 0, 256, 0, 0, 0, 1, 0, 0, 339, 0, 0, 1, 0, 0, 329, 0, 0, 1, 0, 0, 341, 0, 0, 5, 0, 0, 0, 204, 30, 0, 308, 0, 0, 79, 15, 0, 155, 0, 0, 104, 0, 0, 154, 1, 0, 0, 0, 197, 0, 0, 308, 0, 0, 93, 0, 0, 155, 0, 0, 107, 0, 15, 139, 1, 0, 0, 0, 202, 0, 0, 308, 0, 0, 93, 0, 0, 155, 0, 0, 102, 0, 15, 139, 1, 0, 0, 0, 197, 0, 0, 277, 31, 0, 0, 0, 169, 30, 0, 277, 35, 0, 0, 511, 0, 0, 539, 0, 0, 340, 1, 308, 21, 324, 20, 0, 1, 0, 479, 279, 0, 256, 0, 1, 0, 0, 241, 15, 1, 0, 217, 15, 15, 1, 0, 232, 15, 1, 0, 243, 15, 0, 5, 0, 0, 511, 280, 258, 1, 0, 242, 16, 82, 1, 148, 16, 144, 21, 67, 16, 241, 5, 15, 0, 1, 0, 479, 31, 0, 504, 0, 1, 0, 0, 319, 20, 1, 0, 134, 175, 20, 1, 0, 321, 20, 0, 5, 0, 0, 511, 280, 258, 1, 0, 242, 16, 82, 1, 148, 16, 144, 21, 67, 16, 241, 5, 15, 0, 1, 0, 540, 218, 0, 256, 0, 0, 1, 0, 0, 0, 319, 20, 1, 0, 195, 114, 20, 1, 0, 321, 20, 0, 5, 0, 0, 0, 355, 20, 136, 197, 0, 321, 20, 1, 0, 0, 340, 0, 1, 0, 308, 0, 21, 0, 324, 0, 21, 0, 479, 535, 0, 1, 0, 0, 474, 537, 0, 0, 5, 0, 0, 0, 511, 30, 0, 1, 0, 233, 15, 1, 0, 243, 15, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 535, 0, 1, 0, 0, 339, 1, 134, 30, 1, 0, 164, 1, 311, 30, 0, 5, 0, 0, 0, 15, 496, 30, 0, 1, 0, 233, 15, 1, 0, 243, 15, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 535, 0, 1, 0, 0, 339, 1, 134, 30, 1, 0, 164, 1, 311, 30, 0, 5, 0, 0, 0, 15, 496, 30, 0, 1, 0, 233, 15, 1, 0, 243, 15, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 30, 1, 232, 16, 241, 15, 0, 1, 0, 0, 0, 339, 1, 134, 31, 164, 1, 311, 30, 0, 5, 0, 0, 15, 496, 0, 30, 1, 0, 248, 0, 1, 0, 258, 0, 1, 0, 0, 474, 30, 0, 1, 0, 247, 0, 1, 0, 261, 0, 1, 0, 0, 479, 30, 0, 1, 0, 247, 0, 1, 0, 256, 0, 1, 0, 0, 474, 30, 0, 1, 0, 0, 476, 0, 30, 5, 0, 0, 511, 0, 0, 539, 0, 0, 340, 1, 308, 21, 324, 20, 0, 1, 0, 479, 279, 0, 256, 0, 1, 0, 0, 241, 15, 1, 0, 217, 15, 15, 1, 0, 232, 15, 1, 0, 243, 15, 0, 5, 0, 0, 511, 280, 258, 1, 0, 242, 16, 82, 1, 148, 16, 144, 21, 67, 16, 241, 5, 15, 0, 1, 0, 479, 31, 0, 504, 0, 1, 0, 0, 319, 20, 1, 0, 134, 175, 20, 1, 0, 321, 20, 0, 5, 0, 0, 511, 280, 258, 1, 0, 242, 16, 82, 1, 148, 16, 144, 21, 67, 16, 241, 5, 16, 0, 540, 474, 0, 0, 1, 0, 0, 0, 535, 476, 0, 0, 5, 0, 0, 0, 435, 0, 76, 539, 0, 0, 340, 1, 308, 21, 324, 20, 1, 0, 540, 474, 0, 1, 0, 0, 535, 476, 0, 0, 5, 0, 0, 355, 21, 311, 21, 321, 21, 320, 21, 308, 21, 324, 21, 479, 535, 0, 1, 0, 0, 474, 537, 0, 5, 0, 0, 435, 0, 76, 539, 0, 0, 340, 1, 328, 1, 344, 0, 0, 1, 0, 0, 479, 535, 0, 1, 0, 1011, 0, 5, 0, 0, 355, 21, 311, 21, 321, 21, 320, 21, 308, 21, 324, 21, 479, 535, 0, 1, 0, 0, 474, 537, 0, 5, 0, 0, 435, 0, 76, 539, 0, 0, 340, 1, 328, 1, 344, 0, 0, 1, 0, 0, 479, 535, 0, 1, 0, 1011, 0, 5, 0, 0, 0, 511, 538, 1, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 535, 0, 1, 0, 0, 339, 1, 329, 1, 341, 0, 0, 5, 0, 0, 0, 15, 496, 538, 0, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 535, 0, 1, 0, 0, 339, 1, 329, 1, 341, 0, 0, 5, 0, 0, 0, 15, 496, 30, 0, 1, 0, 233, 15, 1, 0, 243, 15, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 30, 1, 232, 16, 241, 15, 0, 1, 0, 0, 0, 339, 1, 134, 31, 164, 1, 311, 30, 0, 5, 0, 0, 15, 496, 0, 30, 1, 0, 0, 79, 15, 0, 155, 0, 0, 104, 0, 0, 155, 0, 0, 0, 0, 197, 0, 0, 277, 30, 1, 0, 0, 93, 0, 0, 155, 0, 0, 107, 0, 15, 140, 0, 0, 0, 0, 202, 0, 0, 277, 30, 1, 0, 0, 93, 0, 0, 155, 0, 0, 102, 0, 15, 140, 0, 0, 0, 0, 197, 0, 0, 277, 30, 1, 0, 0, 0, 0, 199, 31, 0, 246, 0, 35, 0, 0, 511, 0, 0, 539, 0, 0, 340, 1, 308, 21, 324, 20, 0, 1, 0, 479, 279, 0, 256, 0, 1, 0, 0, 241, 15, 1, 0, 217, 15, 15, 1, 0, 232, 15, 1, 0, 243, 15, 0, 5, 0, 0, 511, 280, 258, 1, 0, 242, 16, 82, 1, 148, 16, 144, 21, 67, 16, 241, 5, 15, 0, 1, 0, 479, 31, 0, 504, 0, 1, 0, 0, 319, 20, 1, 0, 134, 175, 20, 1, 0, 321, 20, 0, 5, 0, 0, 511, 280, 258, 1, 0, 242, 16, 82, 1, 148, 16, 144, 21, 67, 16, 241, 5, 15, 0, 1, 0, 540, 218, 0, 256, 0, 0, 1, 0, 0, 0, 319, 20, 1, 0, 195, 114, 20, 1, 0, 321, 20, 0, 5, 0, 0, 0, 355, 20, 136, 197, 0, 321, 20, 1, 0, 0, 340, 0, 1, 0, 308, 0, 21, 0, 324, 0, 21, 0, 479, 535, 0, 1, 0, 0, 474, 537, 0, 0, 5, 0, 0, 0, 511, 30, 0, 1, 0, 233, 15, 1, 0, 243, 15, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 535, 0, 1, 0, 0, 339, 1, 134, 30, 1, 0, 164, 1, 311, 30, 0, 5, 0, 0, 0, 15, 496, 30, 0, 1, 0, 233, 15, 1, 0, 243, 15, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 535, 0, 1, 0, 0, 339, 1, 134, 30, 1, 0, 164, 1, 311, 30, 0, 5, 0, 0, 0, 15, 496, 30, 0, 1, 0, 233, 15, 1, 0, 243, 15, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 30, 1, 232, 16, 241, 15, 0, 1, 0, 0, 0, 339, 1, 134, 31, 164, 1, 311, 30, 0, 5, 0, 0, 15, 496, 0, 30, 1, 0, 248, 0, 1, 0, 258, 0, 1, 0, 0, 474, 30, 0, 1, 0, 247, 0, 1, 0, 261, 0, 1, 0, 0, 479, 30, 0, 1, 0, 247, 0, 1, 0, 256, 0, 1, 0, 0, 474, 30, 0, 1, 0, 0, 476, 0, 30, 5, 0, 0, 511, 0, 0, 539, 0, 0, 340, 1, 308, 21, 324, 20, 0, 1, 0, 479, 279, 0, 256, 0, 1, 0, 0, 241, 15, 1, 0, 217, 15, 15, 1, 0, 232, 15, 1, 0, 243, 15, 0, 5, 0, 0, 511, 280, 258, 1, 0, 242, 16, 82, 1, 148, 16, 144, 21, 67, 16, 241, 5, 15, 0, 1, 0, 479, 31, 0, 504, 0, 1, 0, 0, 319, 20, 1, 0, 134, 175, 20, 1, 0, 321, 20, 0, 5, 0, 0, 511, 280, 258, 1, 0, 242, 16, 82, 1, 148, 16, 144, 21, 67, 16, 241, 5, 16, 0, 540, 474, 0, 0, 1, 0, 0, 0, 535, 476, 0, 0, 5, 0, 0, 0, 435, 0, 76, 539, 0, 0, 340, 1, 308, 21, 324, 20, 1, 0, 540, 474, 0, 1, 0, 0, 535, 476, 0, 0, 5, 0, 0, 355, 21, 311, 21, 321, 21, 320, 21, 308, 21, 324, 21, 479, 535, 0, 1, 0, 0, 474, 537, 0, 5, 0, 0, 435, 0, 76, 539, 0, 0, 340, 1, 328, 1, 344, 0, 0, 1, 0, 0, 479, 535, 0, 1, 0, 1011, 0, 5, 0, 0, 355, 21, 311, 21, 321, 21, 320, 21, 308, 21, 324, 21, 479, 535, 0, 1, 0, 0, 474, 537, 0, 5, 0, 0, 435, 0, 76, 539, 0, 0, 340, 1, 328, 1, 344, 0, 0, 1, 0, 0, 479, 535, 0, 1, 0, 1011, 0, 5, 0, 0, 0, 511, 538, 1, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 535, 0, 1, 0, 0, 339, 1, 329, 1, 341, 0, 0, 5, 0, 0, 0, 15, 496, 538, 0, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 535, 0, 1, 0, 0, 339, 1, 329, 1, 341, 0, 0, 5, 0, 0, 0, 15, 496, 30, 0, 1, 0, 233, 15, 1, 0, 243, 15, 0, 1, 0, 0, 0, 340, 1, 163, 1, 144, 21, 67, 16, 241, 5, 16, 0, 479, 30, 1, 232, 16, 241, 15, 0, 1, 0, 0, 0, 339, 1, 134, 31, 164, 1, 311, 30, 0, 5, 0, 0, 15, 496, 0, 30, 1, 0, 0, 79, 15, 0, 155, 0, 0, 104, 0, 0, 155, 0, 0, 0, 0, 197, 0, 0, 277, 30, 1, 0, 0, 93, 0, 0, 155, 0, 0, 107, 0, 15, 140, 0, 0, 0, 0, 202, 0, 0, 277, 30, 1, 0, 0, 93, 0, 0, 155, 0, 0, 102, 0, 15, 140, 0, 0, 0, 0, 197, 0, 0, 277, 30, 1, 0, 0, 0, 0, 199, 31, 0, 246, 0, 0
};

const PROGMEM uint16_t melodyX[] = {
	262, 8541, 16850, 24707, 24576, 24707, 32943, 24576, 32768, 24707, 32943, 0, 8192, 16384, 24576, 32768, 131, 8367, 8192, 8309, 16559, 0, 262, 24925, 33234, 0, 24576, 32768, 8192, 16384, 262, 8541, 16850, 0, 8192, 16384, 262, 8541, 16850, 0, 8192, 16384, 262, 8541, 16850, 0, 8192, 16384, 262, 8541, 16850, 24680, 0, 8192, 16384, 262, 8541, 16799, 0, 8192, 16384, 24576, 262, 8541, 16850, 24707, 24576, 24680, 0, 8192, 16384, 262, 8541, 16850, 0, 8192, 16384, 24576, 262, 8541, 16850, 0, 8192, 16384, 262, 8541, 16850, 0, 8192, 16384, 262, 8541, 16850, 0, 8192, 16384, 262, 8541, 16850, 24669, 0, 8192, 16384, 262, 8541, 16799, 0, 8192, 16384, 24576, 262, 8541, 16850, 24707, 24576, 24669, 0, 8192, 16384, 262, 8541, 16850, 0, 8192, 16384, 24576, 262, 8541, 16850, 0, 8192, 16384, 262, 8541, 16850, 0, 8192, 16384, 262, 8541, 16850, 0, 8192, 16384, 262, 8541, 16850, 24663, 8192, 0, 16384, 175, 8412, 16733, 8192, 0, 16384, 185, 8425, 16733, 0, 8192, 16384, 24576, 196, 8425, 16733, 24663, 0, 8192, 16384, 196, 8425, 16733, 0, 8192, 16384, 196, 8425, 16733, 0, 16384, 8192, 24576, 208, 8454, 16733, 24663, 0, 8192, 16384, 208, 8454, 16733, 0, 8192, 16384, 208, 8454, 16733, 0, 16384, 8192, 24576, 220, 8469, 16733, 24680, 0, 8192, 16384, 24576, 220, 8469, 16733, 24686, 8192, 0, 16384, 24576, 466, 8486, 16501, 0, 8192, 16384, 349, 8425, 16501, 16384, 16501, 16384, 16488, 16384, 0, 8192, 175, 8309, 8192, 8486, 16850, 8192, 16384, 8486, 16850, 24693, 8192, 16384, 8503, 16907, 24576, 8192, 16384, 8541, 16971, 8192, 16384, 8562, 17006, 8192, 16384, 0, 415, 8890, 16488, 16384, 16617, 16384, 16617, 24680, 16384, 16646, 24576, 24680, 16384, 16678, 24576, 24669, 16384, 16695, 24576, 16384, 0, 8192, 349, 8296, 8192, 8607, 17082, 8192, 16384, 8607, 17082, 24680, 8192, 16384, 8658, 17124, 24576, 8192, 16384, 8715, 17215, 8192, 16384, 0, 554, 9124, 16477, 16384, 16569, 16384, 16569, 24669, 16384, 16592, 24576, 24669, 16384, 16617, 24576, 24658, 16384, 16646, 24576, 16384, 0, 8192, 277, 8285, 8192, 8746, 17316, 8192, 16384, 0, 554, 9124, 16477, 24761, 0, 8192, 523, 9023, 16384, 0, 8192, 466, 8932, 0, 8192, 24576, 523, 9023, 16559, 24715, 0, 8192, 24576, 466, 8932, 0, 8192, 415, 8890, 24715, 16384, 24576, 16559, 24715, 16384, 24576, 16540, 24707, 16384, 24576, 16559, 24715, 24576, 0, 8192, 415, 8890, 24715, 24576, 0, 8192, 16384, 370, 8814, 16569, 24699, 24576, 0, 8192, 370, 8814, 0, 8192, 415, 8890, 0, 8192, 16384, 466, 8932, 16569, 24699, 24576, 24699, 16384, 16569, 24576, 24693, 16384, 16592, 24576, 16384, 16617, 24699, 24576, 0, 8192, 415, 8890, 24699, 24576, 24699, 0, 8192, 370, 8814, 24576, 24699, 0, 8192, 16384, 349, 8746, 16559, 32885, 24576, 32768, 0, 8192, 349, 8746, 0, 8192, 370, 8814, 0, 8192, 16384, 415, 8890, 16559, 24693, 24576, 24693, 16384, 16559, 24576, 24680, 16384, 16569, 24576, 16384, 16592, 24693, 24576, 0, 8192, 370, 8814, 24693, 24576, 24693, 0, 8192, 349, 8746, 24576, 24693, 0, 8192, 16384, 330, 8715, 16549, 32899, 24576, 32768, 0, 8192, 330, 8715, 0, 8192, 349, 8779, 0, 8192, 16384, 392, 8851, 16549, 24707, 24576, 24707, 16384, 16549, 24576, 24699, 16384, 16559, 24576, 16384, 16580, 24707, 24576, 16384, 16580, 16384, 16604, 16384, 0, 8192, 466, 8976, 16617, 24707, 24576, 24707, 16384, 16646, 24576, 24707, 16384, 0, 8192, 440, 8890, 16471, 24576, 0, 16384, 8192, 220, 8541, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 16471, 16384, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 16471, 16384, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 16482, 16384, 0, 8192, 220, 8541, 16494, 0, 16384, 8192, 466, 8486, 16501, 0, 8192, 16384, 349, 8425, 16501, 16384, 16501, 16384, 16488, 16384, 0, 8192, 175, 8309, 8192, 8486, 16850, 8192, 16384, 8486, 16850, 24693, 8192, 16384, 8503, 16907, 24576, 8192, 16384, 8541, 16971, 8192, 16384, 8562, 17006, 8192, 16384, 0, 415, 8890, 16488, 16384, 16617, 16384, 16617, 24680, 16384, 16646, 24576, 24680, 16384, 16678, 24576, 24669, 16384, 16695, 24576, 16384, 0, 8192, 349, 8296, 8192, 8607, 17082, 8192, 16384, 8607, 17082, 24680, 8192, 16384, 8658, 17124, 24576, 8192, 16384, 8715, 17215, 8192, 16384, 0, 554, 9124, 16477, 16384, 16569, 16384, 16569, 24669, 16384, 16592, 24576, 24669, 16384, 16617, 24576, 24658, 16384, 16646, 24576, 16384, 16661, 24669, 24576, 0, 8192, 16384, 698, 9301, 16477, 24761, 16384, 0, 8192, 24576, 659, 9239, 16559, 24663, 0, 8192, 24576, 523, 9072, 24663, 24576, 24663, 24576, 24654, 24576, 16384, 16604, 24663, 24576, 0, 8192, 440, 8890, 24663, 24576, 0, 8192, 16384, 466, 8932, 16466, 16384, 16501, 16384, 16523, 16384, 16549, 16384, 16617, 16384, 16661, 16384, 16714, 16384, 0, 8192, 554, 9124, 16661, 16384, 0, 8192, 523, 9072, 16733, 0, 8192, 16384, 440, 8890, 16471, 16384, 16471, 16384, 16471, 0, 8192, 16384, 175, 8412, 16471, 16384, 0, 8192, 440, 8890, 0, 8192, 466, 8932, 16466, 16384, 16501, 16384, 16523, 16384, 16549, 16384, 16617, 16384, 16661, 16384, 16714, 16384, 0, 8192, 554, 9124, 16661, 16384, 0, 8192, 523, 9072, 16733, 0, 8192, 16384, 440, 8890, 16471, 16384, 16471, 16384, 16471, 0, 8192, 16384, 175, 8412, 16471, 16384, 0, 8192, 440, 8890, 0, 8192, 370, 8814, 16569, 24699, 24576, 16384, 16569, 24699, 24576, 24699, 16384, 16569, 24576, 24693, 16384, 16559, 24576, 16384, 16569, 24699, 24576, 0, 8192, 466, 8932, 24699, 24576, 24699, 24576, 24699, 0, 8192, 16384, 466, 8890, 16559, 32885, 24576, 32768, 0, 8192, 16384, 349, 8746, 16559, 24693, 24576, 24693, 16384, 16559, 24576, 24680, 16384, 16540, 24576, 16384, 16559, 24693, 24576, 0, 8192, 277, 8658, 24693, 24576, 24693, 24576, 24693, 0, 8192, 16384, 330, 8715, 16549, 32899, 24576, 32768, 0, 8192, 330, 8715, 0, 8192, 349, 8779, 0, 8192, 16384, 392, 8851, 16549, 24707, 24576, 24707, 16384, 16549, 24576, 24699, 16384, 16559, 24576, 16384, 16580, 24707, 24576, 16384, 16580, 16384, 16604, 16384, 0, 8192, 466, 8976, 16617, 24707, 24576, 24707, 16384, 16646, 24576, 24707, 16384, 0, 8192, 440, 8890, 16471, 24576, 0, 16384, 8192, 175, 8412, 16733, 8192, 0, 16384, 185, 8425, 16733, 0, 8192, 16384, 196, 8425, 16733, 24663, 32924, 0, 8192, 16384, 24576, 32768, 196, 8425, 16733, 0, 8192, 16384, 196, 8425, 16733, 0, 16384, 8192, 208, 8454, 16733, 24663, 32924, 0, 8192, 16384, 24576, 32768, 208, 8454, 16733, 0, 8192, 16384, 208, 8454, 16733, 0, 16384, 8192, 220, 8469, 16733, 24674, 32933, 0, 8192, 16384, 24576, 32768, 220, 8469, 16733, 24686, 32943, 0, 8192, 16384, 24576, 32768, 466, 8486, 16501, 0, 8192, 16384, 349, 8425, 16501, 16384, 16501, 16384, 16488, 16384, 0, 8192, 175, 8309, 8192, 8486, 16850, 8192, 16384, 8486, 16850, 24693, 8192, 16384, 8503, 16907, 24576, 8192, 16384, 8541, 16971, 8192, 16384, 8562, 17006, 8192, 16384, 0, 415, 8890, 16488, 16384, 16617, 16384, 16617, 24680, 16384, 16646, 24576, 24680, 16384, 16678, 24576, 24669, 16384, 16695, 24576, 16384, 0, 8192, 349, 8296, 8192, 8607, 17082, 8192, 16384, 8607, 17082, 24680, 8192, 16384, 8658, 17124, 24576, 8192, 16384, 8715, 17215, 8192, 16384, 0, 554, 9124, 16477, 16384, 16569, 16384, 16569, 24669, 16384, 16592, 24576, 24669, 16384, 16617, 24576, 24658, 16384, 16646, 24576, 16384, 0, 8192, 277, 8285, 8192, 8746, 17316, 8192, 16384, 0, 554, 9124, 16477, 24761, 0, 8192, 523, 9023, 16384, 0, 8192, 466, 8932, 0, 8192, 24576, 523, 9023, 16559, 24715, 0, 8192, 24576, 466, 8932, 0, 8192, 415, 8890, 24715, 16384, 24576, 16559, 24715, 16384, 24576, 16540, 24707, 16384, 24576, 16559, 24715, 24576, 0, 8192, 415, 8890, 24715, 24576, 0, 8192, 16384, 370, 8814, 16569, 24699, 24576, 0, 8192, 370, 8814, 0, 8192, 415, 8890, 0, 8192, 16384, 466, 8932, 16569, 24699, 24576, 24699, 16384, 16569, 24576, 24693, 16384, 16592, 24576, 16384, 16617, 24699, 24576, 0, 8192, 415, 8890, 24699, 24576, 24699, 0, 8192, 370, 8814, 24576, 24699, 0, 8192, 16384, 349, 8746, 16559, 32885, 24576, 32768, 0, 8192, 349, 8746, 0, 8192, 370, 8814, 0, 8192, 16384, 415, 8890, 16559, 24693, 24576, 24693, 16384, 16559, 24576, 24680, 16384, 16569, 24576, 16384, 16592, 24693, 24576, 0, 8192, 370, 8814, 24693, 24576, 24693, 0, 8192, 349, 8746, 24576, 24693, 0, 8192, 16384, 330, 8715, 16549, 32899, 24576, 32768, 0, 8192, 330, 8715, 0, 8192, 349, 8779, 0, 8192, 16384, 392, 8851, 16549, 24707, 24576, 24707, 16384, 16549, 24576, 24699, 16384, 16559, 24576, 16384, 16580, 24707, 24576, 16384, 16580, 16384, 16604, 16384, 0, 8192, 466, 8976, 16617, 24707, 24576, 24707, 16384, 16646, 24576, 24707, 16384, 0, 8192, 440, 8890, 16471, 24576, 0, 16384, 8192, 220, 8541, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 16471, 16384, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 16471, 16384, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 0, 8192, 220, 8541, 16482, 16384, 0, 8192, 220, 8541, 16494, 0, 16384, 8192, 466, 8486, 16501, 0, 8192, 16384, 349, 8425, 16501, 16384, 16501, 16384, 16488, 16384, 0, 8192, 175, 8309, 8192, 8486, 16850, 8192, 16384, 8486, 16850, 24693, 8192, 16384, 8503, 16907, 24576, 8192, 16384, 8541, 16971, 8192, 16384, 8562, 17006, 8192, 16384, 0, 415, 8890, 16488, 16384, 16617, 16384, 16617, 24680, 16384, 16646, 24576, 24680, 16384, 16678, 24576, 24669, 16384, 16695, 24576, 16384, 0, 8192, 349, 8296, 8192, 8607, 17082, 8192, 16384, 8607, 17082, 24680, 8192, 16384, 8658, 17124, 24576, 8192, 16384, 8715, 17215, 8192, 16384, 0, 554, 9124, 16477, 16384, 16569, 16384, 16569, 24669, 16384, 16592, 24576, 24669, 16384, 16617, 24576, 24658, 16384, 16646, 24576, 16384, 16661, 24669, 24576, 0, 8192, 16384, 698, 9301, 16477, 24761, 16384, 0, 8192, 24576, 659, 9239, 16559, 24663, 0, 8192, 24576, 523, 9072, 24663, 24576, 24663, 24576, 24654, 24576, 16384, 16604, 24663, 24576, 0, 8192, 440, 8890, 24663, 24576, 0, 8192, 16384, 466, 8932, 16466, 16384, 16501, 16384, 16523, 16384, 16549, 16384, 16617, 16384, 16661, 16384, 16714, 16384, 0, 8192, 554, 9124, 16661, 16384, 0, 8192, 523, 9072, 16733, 0, 8192, 16384, 440, 8890, 16471, 16384, 16471, 16384, 16471, 0, 8192, 16384, 175, 8412, 16471, 16384, 0, 8192, 440, 8890, 0, 8192, 466, 8932, 16466, 16384, 16501, 16384, 16523, 16384, 16549, 16384, 16617, 16384, 16661, 16384, 16714, 16384, 0, 8192, 554, 9124, 16661, 16384, 0, 8192, 523, 9072, 16733, 0, 8192, 16384, 440, 8890, 16471, 16384, 16471, 16384, 16471, 0, 8192, 16384, 175, 8412, 16471, 16384, 0, 8192, 440, 8890, 0, 8192, 370, 8814, 16569, 24699, 24576, 16384, 16569, 24699, 24576, 24699, 16384, 16569, 24576, 24693, 16384, 16559, 24576, 16384, 16569, 24699, 24576, 0, 8192, 466, 8932, 24699, 24576, 24699, 24576, 24699, 0, 8192, 16384, 466, 8890, 16559, 32885, 24576, 32768, 0, 8192, 16384, 349, 8746, 16559, 24693, 24576, 24693, 16384, 16559, 24576, 24680, 16384, 16540, 24576, 16384, 16559, 24693, 24576, 0, 8192, 277, 8658, 24693, 24576, 24693, 24576, 24693, 0, 8192, 16384, 330, 8715, 16549, 32899, 24576, 32768, 0, 8192, 330, 8715, 0, 8192, 349, 8779, 0, 8192, 16384, 392, 8851, 16549, 24707, 24576, 24707, 16384, 16549, 24576, 24699, 16384, 16559, 24576, 16384, 16580, 24707, 24576, 16384, 16580, 16384, 16604, 16384, 0, 8192, 466, 8976, 16617, 24707, 24576, 24707, 16384, 16646, 24576, 24707, 16384, 0, 8192, 440, 8890, 16471, 24576, 0, 16384, 8192, 175, 8412, 16733, 8192, 0, 16384, 185, 8425, 16733, 0, 8192, 16384, 196, 8425, 16733, 24663, 32924, 0, 8192, 16384, 24576, 32768, 196, 8425, 16733, 0, 8192, 16384, 196, 8425, 16733, 0, 16384, 8192, 208, 8454, 16733, 24663, 32924, 0, 8192, 16384, 24576, 32768, 208, 8454, 16733, 0, 8192, 16384, 208, 8454, 16733, 0, 16384, 8192, 220, 8469, 16733, 24674, 32933, 0, 8192, 16384, 24576, 32768, 220, 8469, 16733, 24686, 32943, 0, 8192, 16384, 24576, 32768
};

int offset[5] = { -19, -7, -75, -10, -60 };

Sound sound = Sound();


void Sound::boot()
{
	//playSong(melodyX, delaysX, 1884, 1);
	//playSong(SONG_PKMN_MELODY, SONG_PKMN_DELAY, SONG_PKMN_LENGTH, SONG_PKMN_SPEED);

}

void Sound::tap()
{
}

void Sound::doubleTap()
{
}

void Sound::wake()
{
	//playSong(SONG_BOOT_MELODY, SONG_BOOT_DELAY, SONG_BOOT_LENGTH, SONG_BOOT_SPEED);
}

void Sound::sleep()
{

}

void Sound::playSong(const uint16_t* melody, const uint16_t* delay, uint16_t songLength, int8_t speed)
{
	hardware.disableInactive();
	for (uint8_t i = 0; i < PCA_AMOUNT; i++) hardware.chips[i].stop();
	this->melody = melody;
	this->delay = delay;
	this->songLength = songLength;
	this->step = 0;
	this->speed = speed;
	this->curBufLoadPos = 0;
	buffer();

	this->nextDelay = delayBuffer[0];

	playTone(0);
}

void Sound::buffer()
{
	for (int i = 0; i < 5; i++)
	{
		
		if (curBufLoadPos < songLength &&
			curBufLoadPos - step < SOUND_BUFFER)
		{
			Serial.println(speed);
			melodyBuffer[curBufLoadPos % SOUND_BUFFER] = pgm_read_word_near(this->melody + curBufLoadPos);
			delayBuffer[curBufLoadPos % SOUND_BUFFER] = pgm_read_word_near(this->delay + curBufLoadPos);
			if (speed < 0) delayBuffer[curBufLoadPos % SOUND_BUFFER] <<= abs(speed);
			else delayBuffer[curBufLoadPos % SOUND_BUFFER] >>= speed;
				
			
			curBufLoadPos++;
		}
		else
		{
			return;
		}
	}
}

void Sound::doSound()
{
	buffer();

	if (melody == nullptr || curBufLoadPos <= step) return;

	this->nextDelay -= hardware.diff;
	
	if (this->nextDelay < 0)
	{
		step++;
		if (step == songLength)
		{
			hardware.enableInactive();

			melody = nullptr;
			for (uint8_t i = 0; i < PCA_AMOUNT; i++)
				hardware.chips[i].stop();
			return;
		}
		this->nextDelay = this->delayBuffer[step % SOUND_BUFFER];
		this->nextDelay = this->nextDelay;
		

		playTone(step);
	} 

}

void Sound::playTone(uint16_t step)
{
	uint16_t mel;
	uint8_t device;
	mel = this->melodyBuffer[step % SOUND_BUFFER];
	device = (mel >> 13);
	mel = mel & 0b0001111111111111;

	if (mel == 0) hardware.chips[device].stop();
	else hardware.chips[device].play(mel, -1);
}